set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'christoomey/vim-tmux-navigator'
set-environment -g TMUX_PLUGIN_MANAGER_PATH '~/.config/tmux/plugins/'

# Key bindings and core behavior
# unbind C-b
# set -g prefix C-Space
# bind C-Space send-prefix

bind r source-file ~/.config/tmux/tmux.conf

bind -n M-l send-keys 'C-l'

# Path-related window/pane bindings
bind c new-window      -c '#{pane_current_path}'
bind % split-window -h -c '#{pane_current_path}'
bind '"' split-window -v -c '#{pane_current_path}'

# Terminal and color settings
set -g default-terminal "tmux-256color"
set-option -a terminal-features 'xterm-256color:RGB'

# Enable bracketed paste mode for proper clipboard pasting
set -g set-clipboard on

# Enable extended keys for Shift+Enter and other modified keys
set -g extended-keys on
set -as terminal-features 'xterm*:extkeys'
set -as terminal-features 'tmux*:extkeys'
set -as terminal-features 'ghostty*:extkeys'
set -as terminal-overrides ',*:extkeys:Ms=\E]52;%p1%s;%p2%s\007'

# Source order (theme first, then components)
source ~/.config/tmux/themes/reset.tmux.conf
source ~/.config/tmux/themes/monokai-pro-machine.tmux.conf
source ~/.config/tmux/components/minimalist.tmux.conf

run '~/.config/tmux/plugins/tpm/tpm'
